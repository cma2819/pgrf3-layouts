import{r as t,b as e,d as s,e as a,p as r,a as o,o as i,F as n,j as c,f as m,c as u,u as d,t as l,i as p,T as D,w as f,D as h,l as y,m as w}from"./vendor.cd1d5b6d.js";const g={props:{scale:{type:Number,default:1},top:{type:Number,default:0},from:{type:String,default:"left"},animated:Boolean},setup(r){const o=r,i=(t,e)=>Math.random()*(e-t)+t,n=t({"from-right":"right"===o.from,"from-left":"left"===o.from,animated:o.animated}),c=t({top:`${o.top}px`,transform:`scale(${o.scale}) rotate(${o.animated?0:i(0,360)}deg)`,left:`${o.animated?-150:i(-150,2070)}px`,opacity:o.animated?1:i(.1,.3)});return(t,o)=>(e(),s("div",{class:["triangle-container",n.value],style:c.value},[a("div",{class:["triangle",{animated:r.animated}]},null,2)],6))},__scopeId:"data-v-f06d386e"};r("data-v-4546e6ed");const b={id:"wrapper"},T=a("div",{id:"filter"},null,-1),v={id:"shapes"};o();const A={props:{animated:Boolean},setup(r){const o=r,m=t([]),u=(t,e)=>Math.random()*(e-t)+t,d=()=>{m.value.push({scale:u(.2,.8),top:u(-100,1180),from:u(0,1)>.5?"left":"right",key:(new Date).getTime()}),o.animated&&setTimeout((()=>m.value.shift()),1e4)};return i((()=>{o.animated?setInterval(d,200):[...Array(100).keys()].forEach((t=>d()))})),(t,o)=>(e(),s("div",b,[T,a("div",v,[(e(!0),s(n,null,c(m.value,((t,a)=>(e(),s(g,{key:t.key,scale:t.scale,top:t.top,from:t.from,animated:r.animated},null,8,["scale","top","from","animated"])))),128))])]))},__scopeId:"data-v-4546e6ed"};const E=f();r("data-v-212308bc");const _={key:0,id:"tweet"},j={class:"box"},C={id:"twitter-user"},I={id:"twitter-id"};o();const S={props:{width:{type:String,default:"420px"},small:{type:Boolean},from:{type:String,default:"left"}},setup(t){const r=t,o=m(),i=u((()=>o.getters.tweet)),n=u((()=>({"from-left":"left"===r.from,"from-right":"right"===r.from,"from-top":"top"===r.from})));return(r,o)=>(e(),s(D,{name:`slide-from-${t.from}`},{default:E((()=>[d(i)?(e(),s("div",{key:0,id:"tweet-wrapper",class:d(n)},[d(i)?(e(),s("div",_,[a("div",j,[a("div",C,[a("img",{id:"twitter-icon",src:d(i).icon,alt:"icon"},null,8,["src"]),a("span",I,"@"+l(d(i).id),1)]),a("div",{id:"tweet-text",class:{small:t.small}},l(d(i).content),3)])])):p("",!0)],2)):p("",!0)])),_:1},8,["name"]))},__scopeId:"data-v-212308bc"};var B=[{title:"ゲームタイトル2",category:"Category2%",platform:"Platform2",startsAt:"2021/09/04 12:25:00",est:"00:20:00",runners:[{id:"team-id-a",name:"走者B",accounts:{twitter:"twitterB",youtube:"youtubeB"}},{id:"team-id-b",name:"走者C",accounts:{twitter:"twitterC",youtube:"youtubeC"}},{id:"team-id-c",name:"走者D",accounts:{twitter:"twitterD",youtube:"youtubeD"}}],commentators:[{name:"コメンテータB",accounts:{twitch:"comTwitchB",twitter:"comTwitterB",youtube:"comYoutubeB"}},{name:"コメンテータC",accounts:{twitch:"commentatorC",twitter:"commentatorC"}},{name:"コメンテータX",accounts:{twitch:"commentatorX",youtube:"commentatorX"}}]},{title:"SIMPLE2960ともだちシリーズ Vol. 3 THEいつでもパズル ～まっすぐ揃えてストローズ～",category:"Taisen Puzzle-Dama (たいせんモード ノーマル)",platform:"Platform3",startsAt:"2021/09/04 12:55:00",est:"00:30:00",runners:[{id:"team-id-a",name:"走者DDDDDDDDDDDD",accounts:{twitch:"twitchDDDDDDDDDDDDDDDDDDD",twitter:"twitterDDDDDDD",youtube:"youtubeDDDDDDDDDDDDDDDDDD"}}],commentators:[{name:"コメンテータDDDDDDDDDDDD",accounts:{twitter:"comTwitterD"}}]},{title:"ゲームタイトル4",category:"Category4%",platform:"Platform4",startsAt:"2021/09/04 13:35:00",est:"00:40:00",runners:[{id:"team-id-a",name:"走者E",accounts:{twitch:"twitchE",twitter:"twitterE",youtube:"youtubeE"}}],commentators:[{name:"コメンテータE",accounts:{twitter:"comTwitterE"}}]},{title:"Setup",category:"",platform:"",startsAt:"2021/09/04 14:15:00",est:"12:00:00",runners:[],commentators:[]}];class x{constructor(t){this.title=t.title,this.category=t.category,this.platform=t.platform,this.startsAt=h.fromFormat(t.startsAt,"yyyy/MM/dd HH:mm:ss"),this.est=t.est,this.runners=t.runners,this.commentators=t.commentators}joinedRunnerNames(t=" / "){return this.runners.map((t=>t.name)).join(t)}joinedCommentatorNames(t=" / "){return this.commentators.map((t=>t.name)).join(t)}startsAtOnSchedule(){return this.startsAt.toFormat("HH:mm")}isSetupBlock(){return!this.runners||0===this.runners.length}}class F{constructor(t){this.id=t.id,this.name=t.name,this.accounts=this._excludeEmptyField(t.accounts),this.accountTypes=Object.keys(this.accounts)}currentAccount(){return{[this.accountTypes[0]]:this.accounts[this.accountTypes[0]]}}rotateAccountTypes(){this.accountTypes=this.accountTypes.slice(1).concat(this.accountTypes[0])}_excludeEmptyField(t){return Object.entries(t).filter((([t,e])=>e)).reduce(((t,[e,s])=>Object.assign(t,{[e]:s})),{})}}var M={time:"00:12:34",status:"suspend",split:[{id:"team-id-a",time:"00:11:11"},{id:"team-id-b",time:"00:12:34"},{id:"team-id-c",time:"00:23:45"}]},k=[{id:"team-id-a",score:123456},{id:"team-id-b",score:234567},{id:"team-id-c",score:345678},{id:"team-id-d",score:456789}],O={id:"twitter_id",icon:"https://pbs.twimg.com/profile_images/1350337470353666049/1fFwzKj2_400x400.jpg",content:"テストツイートテストツイートテストツイートテストツイートテストツイートテストツイートテストツイートテストツイートテストツイートテストツイートテストツイートテストツイートテストツイートテストツイートテストツイートテストツイートテストツイートテストツイートテストツイート #PGRF"},R="Music Title",$="Artist Name",P=w({modules:{runs:{state:()=>({runs:B,currentRunners:B[0].runners.map((t=>new F(t))),currentCommentators:B[0].commentators.map((t=>new F(t)))}),getters:{runsOnSchedule:({runs:t})=>t.slice(0,3).map((t=>new x(t))),currentEst:({runs:t})=>t[0].est,headerInfo:({runs:t})=>({title:t[0].title,category:t[0].category,platform:t[0].platform}),footerInfo:({runs:t})=>t.length>1&&t[1].category?{title:t[1].title,category:t[1].category}:void 0},mutations:{setRuns(t,e){t.runs=e,t.currentRunners=e[0].runners.map((t=>new F(t))),t.currentCommentators=e[0].commentators.map((t=>new F(t)))},rotateAccounts({currentRunners:t,currentCommentators:e}){t.forEach((t=>{t.rotateAccountTypes()})),e.forEach((t=>{t.rotateAccountTypes()}))}},actions:{setRuns({commit:t},e){t("setRuns",e)},rotateAccounts({commit:t}){t("rotateAccounts")}}},timer:{state:()=>({time:M.time,status:M.status,splits:M.split}),getters:{formattedTime:({time:t})=>{const e=t.split(":"),s=y.fromObject({hours:parseInt(e[0]),minutes:parseInt(e[1]),seconds:parseInt(e[2])});return s.hours>0?s.toFormat("hh:mm:ss"):s.toFormat("mm:ss")},splitOfId:({splits:t})=>e=>{const s=t.find((t=>e===t.id));return s?s.time:""}},mutations:{setTimer(t,e){t.time=e.time,t.status=e.status,t.splits=e.split}},actions:{setTimer({commit:t},e){t("setTimer",e)}}},scores:{state:()=>({scores:k}),getters:{scoreOf:({scores:t})=>e=>{const s=t.find((t=>t.id===e));return s?s.score:0}},mutations:{setScores(t,e){t.scores=e}},actions:{setScores({commit:t},e){t("setScores",e)}}},tweet:{state:()=>({tweet:O}),getters:{tweet:({tweet:t})=>t},mutations:{setTweet(t,e){t.tweet=e}},actions:{setTweet({commit:t},e){t("setTweet",e)}}},spotify:{state:()=>({title:R,artist:$}),getters:{shortSpotifyInfo({title:t,artist:e}){const s=`${t} / ${e}`;return s.length>80?`${s.substring(0,80)}...`:s}},mutations:{setMusic(t,e){t.title=e.title,t.artist=e.artist}},actions:{setMusic({commit:t},e){t("setMusic",e)}}}}});export{A as _,S as a,P as s};
